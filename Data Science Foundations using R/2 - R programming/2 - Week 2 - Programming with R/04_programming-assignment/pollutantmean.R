# *******************************************
# example usage:
#> setwd("[this source code directory path]")
#> source("pollutantmean.R")
#> pollutantmean("specdata", "sulfate", 1:10)
#> [1] 4.064128
#> pollutantmean("specdata", "nitrate", 70:72)
#> [1] 1.706047
#> pollutantmean("specdata", "sulfate", 34)
#> [1] 1.477143
#> pollutantmean("specdata", "nitrate")
#> [1] 1.702932
# *******************************************
# @author Zuyufullah Manna (Github: Zuyuf)

# Compute the mean of each type of pollutant
# 'directory' - location of the CSV files
# 'pollutant' - type of pollutant
# 'id' - id of each file
# Return the mean of the pollutant across all monitors list (no rounding off)

setwd("C:/Data_Science_Coursera_Jhon_Hopkin_University/Data Science Foundations using R/2 - R programming/2 - Week 2- Programming with R/04_programming-assignment")

pollutantmean = function(directory, pollutant, id=1:332) {
                      means <- c()
                      
                      for(monitor in id) {
                        path <- paste(getwd(), "/", directory, "/", sprintf("%03d", monitor), ".csv", sep = "")
                        monitor_data <- read.csv(path)
                        
                        interested_data <- monitor_data[pollutant]
                        
                        means <- c(means, interested_data[!is.na(interested_data)])
                      }
                      
                      mean(means)
}

pollutantmean("specdata", "sulfate", 1:10)
